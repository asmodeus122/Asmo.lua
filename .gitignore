-- ‚úÖ STEAL A BRAINROT - SCRIPT FINAL COM AJUSTES
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local PhysicsService = game:GetService("PhysicsService")

local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local root = char:WaitForChild("HumanoidRootPart")
local hum = char:WaitForChild("Humanoid")

local autoTP = false
local autoSteal = false
local noclipOn = false
local delaySteal = 1

-- Criar grupo de colis√£o 'NoCollide' se n√£o existir
pcall(function()
	if not PhysicsService:CollisionGroupExists("NoCollide") then
		PhysicsService:CreateCollisionGroup("NoCollide")
		PhysicsService:CollisionGroupSetCollidable("NoCollide", "Default", false)
	end
end)

-- üß± Noclip Suave com CollisionGroups para evitar empurr√µes
RunService.Stepped:Connect(function()
	if noclipOn and char and char:FindFirstChild("HumanoidRootPart") then
		for _, part in pairs(char:GetDescendants()) do
			if part:IsA("BasePart") then
				part.CanCollide = false
				PhysicsService:SetPartCollisionGroup(part, "NoCollide")
			end
		end
	end
end)

-- ü¶ò Infinite Jump Suave (seguro, sem morte)
local function setupJump()
	local function jump()
		local char = player.Character
		if char and char:FindFirstChild("Humanoid") then
			local hum = char:FindFirstChild("Humanoid")
			if hum:GetState() == Enum.HumanoidStateType.Freefall or hum:GetState() == Enum.HumanoidStateType.Jumping then
				hum:ChangeState(Enum.HumanoidStateType.Jumping)
			end
		end
	end
	UserInputService.JumpRequest:Connect(jump)
end

if player.Character then
	setupJump()
end

player.CharacterAdded:Connect(function()
	setupJump()
end)

-- üîç ESP com nome
function highlightBrainrots()
	for _, obj in pairs(workspace:GetChildren()) do
		if obj:IsA("Model") and obj.Name:lower():find("brainrot") and obj:FindFirstChild("HumanoidRootPart") and not obj:FindFirstChild("Highlight") then
			local hl = Instance.new("Highlight", obj)
			hl.FillColor = Color3.new(1, 0, 0)
			hl.OutlineColor = Color3.new(1, 1, 1)
			hl.FillTransparency = 0.3

			local billboard = Instance.new("BillboardGui", obj)
			billboard.Name = "ESPName"
			billboard.Size = UDim2.new(0, 100, 0, 20)
			billboard.Adornee = obj:FindFirstChild("HumanoidRootPart")
			billboard.AlwaysOnTop = true

			local label = Instance.new("TextLabel", billboard)
			label.Size = UDim2.new(1, 0, 1, 0)
			label.BackgroundTransparency = 1
			label.TextColor3 = Color3.new(1, 0, 0)
			label.Text = obj.Name
			label.TextScaled = true
			label.Font = Enum.Font.GothamBold
		end
	end
end

-- üîç Buscar brainrot mais pr√≥ximo
function getClosestBrainrot()
	local closest, dist = nil, math.huge
	for _, obj in pairs(workspace:GetChildren()) do
		if obj:IsA("Model") and obj.Name:lower():find("brainrot") and obj:FindFirstChild("HumanoidRootPart") then
			local d = (obj.HumanoidRootPart.Position - root.Position).Magnitude
			if d < dist then
				closest = obj
				dist = d
			end
		end
	end
	return closest
end

-- üöÄ Auto TP
task.spawn(function()
	while true do
		task.wait(0.2)
		if autoTP then
			local target = getClosestBrainrot()
			if target then
				local hrp = target:FindFirstChild("HumanoidRootPart")
				if hrp then
					root.CFrame = hrp.CFrame * CFrame.new(0, 3, -3)
				end
			end
		end
	end
end)

-- ü§ñ Auto Steal
task.spawn(function()
	while true do
		if autoSteal then
			local target = getClosestBrainrot()
			if target then
				local prompt = target:FindFirstChildWhichIsA("ProximityPrompt", true)
				if prompt then
					fireproximityprompt(prompt)
				end
			end
			task.wait(delaySteal)
		else
			task.wait(0.5)
		end
	end
end)

-- üì± GUI
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.ResetOnSpawn = false

function createButton(text, pos, callback)
	local btn = Instance.new("TextButton", gui)
	btn.Size = UDim2.new(0, 160, 0, 40)
	btn.Position = pos
	btn.Text = text
	btn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.TextSize = 14
	btn.Font = Enum.Font.GothamBold
	btn.BorderSizePixel = 0
	btn.Draggable = true
	btn.MouseButton1Click:Connect(callback)
end

createButton("üîç Marcar Brainrots", UDim2.new(0, 10, 0, 100), function()
	highlightBrainrots()
end)

createButton("üß± Ativar Noclip", UDim2.new(0, 10, 0, 150), function()
	noclipOn = not noclipOn
end)

createButton("üöÄ Auto Teleport", UDim2.new(0, 10, 0, 200), function()
	autoTP = not autoTP
end)

createButton("üèÉ Auto Steal", UDim2.new(0, 10, 0, 250), function()
	autoSteal = not autoSteal
end)

createButton("‚è±Ô∏è Delay +", UDim2.new(0, 180, 0, 200), function()
	delaySteal = delaySteal + 0.5
end)

createButton("‚è±Ô∏è Delay -", UDim2.new(0, 180, 0, 250), function()
	delaySteal = math.max(0.2, delaySteal - 0.5)
end)
